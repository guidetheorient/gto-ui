(function(i,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(i=typeof globalThis!="undefined"?globalThis:i||self,e(i.index={},i.Vue))})(this,function(i,e){"use strict";var X="";const v={class:"g-message__content"},x={props:{type:{type:String,default:"primary",validator:s=>["primary","success","warning","danger"].includes(s)},message:{type:String,default:""},duartion:{type:Number,default:3e3},placement:{type:String,default:"top-center",validator:s=>["top-center","bottom-center","top-left","bottom-left","top-right","bottom-right"].includes(s)},onClick:{type:Function,default:()=>{}}},setup(s,{expose:m}){const a=s;function _({placement:t},n){function r(l){l.style.opacity=0}function o(l,f){l.style.opacity=1,f()}function c(l,f){l.style.opacity=0;let b=0,E=0;const A=t.includes("center"),M=t.includes("left"),P=t.includes("top");A?E=P?"-100%":"100%":b=M?"-100%":"100%",l.style.transform=l.style.transform+` translate3d(${b}, ${E}, 0)`,setTimeout(()=>{f(),n()},150)}return{beforeEnter:r,enter:o,leave:c}}function $(t){const n=e.ref({left:null,right:null,top:null,bottom:null}),r=e.ref({translateX:0}),o=e.ref(!1);return t.placement.split("-").forEach(c=>{const l=n.value,f=r.value;c in l&&(l[c]="0px"),c==="center"&&(l.left="50%",f.translateX="-50%"),c==="bottom"&&(o.value=!0)}),{position:n,transform:r,isNegativeVerticalStart:o}}const p="g-message";let g=e.ref(!0);const C=e.computed(()=>{const t=[`${p}-${a.placement}`];return a.type&&t.push(`${p}--${a.type}`),t}),{position:u,transform:T,isNegativeVerticalStart:k}=$(a),y=()=>{const t=document.querySelectorAll(".g-message-"+a.placement);for(let n=0;n<t.length;n++){let r=10;for(let o=0;o<n;o++)r+=t[o].clientHeight+6;for(let o in u.value)u.value[o]!==null&&(t[n].style[o]=u.value[o]);t[n].style.transform=`translate3d(
      ${T.value.translateX},
      ${(k.value?"-":"")+r}px,
        0
      )`}},{beforeEnter:B,enter:V,leave:N}=_(a,y),h=()=>{g.value=!1};return m({close:h}),e.onMounted(async()=>{await e.nextTick(),y(),a.duartion&&setTimeout(()=>{h()},a.duartion)}),(t,n)=>(e.openBlock(),e.createBlock(e.Transition,{name:"message",onBeforeEnter:e.unref(B),onEnter:e.unref(V),onLeave:e.unref(N)},{default:e.withCtx(()=>[g.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["g-message",e.unref(C)]),onClick:n[0]||(n[0]=(...r)=>s.onClick&&s.onClick(...r))},[e.createElementVNode("div",v,e.toDisplayString(s.message),1)],2)):e.createCommentVNode("",!0)]),_:1},8,["onBeforeEnter","onEnter","onLeave"]))}},d=(s={})=>{const a=e.createApp(x,s).mount(document.createElement("div"));return document.body.insertBefore(a.$el,document.body.firstChild),a.close};var S={install(s){s.config.globalProperties.$message=d}};i.GMessage=d,i.default=S,Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
