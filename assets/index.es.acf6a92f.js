import{g as A,f as c,h as X,i as L,n as j,o as b,j as P,w as q,c as z,a as D,t as F,k as H,u,l as M,T as Y}from"./app.057c8746.js";const _={class:"g-message__content"},G={props:{type:{type:String,default:"primary",validator:o=>["primary","success","warning","danger"].includes(o)},message:{type:String,default:""},duartion:{type:Number,default:3e3},placement:{type:String,default:"top-center",validator:o=>["top-center","bottom-center","top-left","bottom-left","top-right","bottom-right"].includes(o)},onClick:{type:Function,default:()=>{}}},setup(o,{expose:m}){const s=o;function E({placement:e},t){function r(a){a.style.opacity=0}function n(a,i){a.style.opacity=1,i()}function l(a,i){a.style.opacity=0;let y=0,h=0;const x=e.includes("center"),N=e.includes("left"),w=e.includes("top");x?h=w?"-100%":"100%":y=N?"-100%":"100%",a.style.transform=a.style.transform+` translate3d(${y}, ${h}, 0)`,setTimeout(()=>{i(),t()},150)}return{beforeEnter:r,enter:n,leave:l}}function C(e){const t=c({left:null,right:null,top:null,bottom:null}),r=c({translateX:0}),n=c(!1);return e.placement.split("-").forEach(l=>{const a=t.value,i=r.value;l in a&&(a[l]="0px"),l==="center"&&(a.left="50%",i.translateX="-50%"),l==="bottom"&&(n.value=!0)}),{position:t,transform:r,isNegativeVerticalStart:n}}const p="g-message";let d=c(!0);const S=X(()=>{const e=[`${p}-${s.placement}`];return s.type&&e.push(`${p}--${s.type}`),e}),{position:f,transform:$,isNegativeVerticalStart:k}=C(s),g=()=>{const e=document.querySelectorAll(".g-message-"+s.placement);for(let t=0;t<e.length;t++){let r=10;for(let n=0;n<t;n++)r+=e[n].clientHeight+6;for(let n in f.value)f.value[n]!==null&&(e[t].style[n]=f.value[n]);e[t].style.transform=`translate3d(
      ${$.value.translateX},
      ${(k.value?"-":"")+r}px,
        0
      )`}},{beforeEnter:B,enter:T,leave:V}=E(s,g),v=()=>{d.value=!1};return m({close:v}),L(async()=>{await j(),g(),s.duartion&&setTimeout(()=>{v()},s.duartion)}),(e,t)=>(b(),P(Y,{name:"message",onBeforeEnter:u(B),onEnter:u(T),onLeave:u(V)},{default:q(()=>[d.value?(b(),z("div",{key:0,class:H(["g-message",u(S)]),onClick:t[0]||(t[0]=(...r)=>o.onClick&&o.onClick(...r))},[D("div",_,F(o.message),1)],2)):M("",!0)]),_:1},8,["onBeforeEnter","onEnter","onLeave"]))}},J=(o={})=>{const s=A(G,o).mount(document.createElement("div"));return document.body.insertBefore(s.$el,document.body.firstChild),s.close};export{J as m};
